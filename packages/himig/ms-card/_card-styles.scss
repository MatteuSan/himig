// @license
// Copyright (c) 2025 MatteuSan
// SPDX-License-Identifier: MIT

@use 'pkg:@matteusan/pintig';
@use 'sass:list';
@use 'card-base' as base;
@use 'card-theme' as theme;

@mixin render(
  $color: (),
  $struct: (),
  $typography: (),
  $settings: ()
) {
  $color: pintig.theme-merge(theme.$init-color, $color);
  $struct: pintig.theme-merge(theme.$init-struct, $struct);
  $typography: pintig.theme-merge(theme.$init-typography, $typography);
  $settings: pintig.theme-merge(theme.$init-settings, $settings);

  @include base.init(
    $struct,
    $typography
  ) {
    @include pintig.color-apply('card', (
      fill: pintig.theme-get($color, 'fill'),
      ink: pintig.theme-get($color, 'ink'),
    ));
    @include pintig.color-border('card', pintig.theme-get($color, 'border'), 'bind');
    @include pintig.struct-apply('card', (
      width: (
        default: pintig.theme-get($struct, 'width'),
        min: pintig.theme-get($struct, 'width', 'min'),
        max: pintig.theme-get($struct, 'width', 'max'),
      ),
      radius: pintig.theme-get($struct, 'radius'),
      shadow: 'none',
    ));

    &:where(.is-outlined) {
      @include pintig.color-bind('card', (
        fill: pintig.theme-get($color, 'fill', 'outlined'),
        ink: pintig.theme-get($color, 'ink'),
        border: pintig.theme-get($color, 'border')
      ));
    }

    &:where(.is-raised) {
      @include pintig.struct-bind('card', (
        shadow: 'low'
      ));
    }
  }
}